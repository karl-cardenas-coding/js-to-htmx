# js-to-htmx

<div align="center" style="text-align:center;">
  <img src="web/static/images/js-to-htmx.png" alt="drawing generated by ChatGPT" width="400"/>
  <label style="display:block; margin-top:5px; font-size:12px; font-style:italic;">
    Image generated by ChatGPT
  </label>
</div>

This is an example project to showcase the value of [HTMX](https://htmx.org/) for an internal developer presentation @ [Spectro Cloud](https://www.spectrocloud.com/).



<p align="center">
  <img src="/web/static/demo.gif" alt="drawing" width="400"/>
</p>



# Overview

The project is a small web application available in two versions: a React native version and another version using HTMX and Go. The application queries a public API endpoint for the latest prices on Bitcoin, Ethereum, and the stable coin USDC, ensuring you're always up to date. It then presents the prices and updates them every 10 seconds. Additionally, a news section is displayed, which queries a public news API for the latest news.

Change the branch to the respective version to view the code for the different application versions. The React version is on the `js` branch, and the HTMX version is on the `htmx` branch.


## Architecture

The architecture of the application is different for each application version. The React version uses a client-side rendering, Single Page Application (SPA) approach. In contrast, the HTMX version uses server-side rendering. HTMX favors server-side rendering primarily because it leverages existing web functionality, browser features, and hypermedia controls, so it doesn't need custom JavaScript to achieve desired UX behaviors. However, using a server-side rendering architecture is not a requirement. The application can use HTMX to render the page if the API endpoint returns HTML.

![A view of the app architecture](/web/static/images/architecture.png)


## Highlights

A few differences between the two versions of the applications stand out:

- The React version downloads `2 MB` of data on the initial load, while the HTMX version downloads `1.8 MB`. HTMX reduces the amount of data downloaded by `200 KB`, a `10% reduction in data.

The HTMX version uses server-side rendering to render the initial page, while the React version uses client-side rendering. This allows the HTMX version to render the page faster than the React version. However, the React version can also be optimized to use server-side rendering, but this is not the main focus of this project.

- The HTMX version uses only `30 lines` of custom JavaScript code for the frontend. HTML, CSS, and the HTMX library power the remainder of the code base. 

- React version `v18` is used in the React application, while the HTMX version uses `v2.0.1` of the HTMX library.


## Start Applications

Both applications are dockerized and can be started using the following commands:

#### React

```bash
docker run --name js --rm -p 8080:8080 ghcr.io/karl-cardenas-coding/js-to-htmx/js:v0.0.8
```

#### HTMX 


```bash
docker run --name htmx --rm -p 8080:8080 ghcr.io/karl-cardenas-coding/js-to-htmx/htmx:v0.0.8
```

> [!TIP]
>
> If you want to start both applications at the same time, you can use the following command:
> ```bash
> docker run --name js --rm -p 8080:8080 ghcr.io/karl-cardenas-coding/js-to-htmx/js:v0.0.8 & docker run --name htmx --rm -p 9000:8080 ghcr.io/karl-cardenas-coding/js-to-htmx/htmx:v0.0.8
> ```
> The command will start both applications on different ports. The React application will be on port 8080 and the HTMX application will be on port 9000.

## Access the Applications

Once the applications are started, you can access them by visiting `http://localhost:8080` in your browser.


## Stop Application

To stop the application, issue press the `Ctrl + C` keys in the terminal where the application is running. Mac users, press `Cmd + C`.